<!doctype html>
<html lang="en-us">
  <head>
    <title>Elasticsearch // KONPIG BLOG</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.73.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Kim Youlim" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.0a0ed68d1905d89b9b4a6505b55ff021db9334619ab6718a424276bf76524825.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Elasticsearch"/>
<meta name="twitter:description" content="Elasticsearch란?   Apache Lucene(아파치 루씬) 기반의 Java 오픈소스 분산 검색 엔진
 루씬 : Java 기반 정보 검색 라이브러리 오픈소스 SW    방대한 양의 데이터를 신속하게, 거의 실시간(NRT; Near Real Time)으로 저장, 검색, 분석할 수 있다.
  ELK 스택 Elasticsearch는 검색을 위해 단독으로 사용되기도 하며,
ELK(Elasticsearch / Logstatsh / Kibana) 스택(연동 솔루션)으로도 사용한다.
  Logstash : 다양한 소스(DB, csv 파일 등)의 로그 또는 트랜잭션 데이터를 수집, 집계, 파싱하여 Elasticsearch로 전달"/>

    <meta property="og:title" content="Elasticsearch" />
<meta property="og:description" content="Elasticsearch란?   Apache Lucene(아파치 루씬) 기반의 Java 오픈소스 분산 검색 엔진
 루씬 : Java 기반 정보 검색 라이브러리 오픈소스 SW    방대한 양의 데이터를 신속하게, 거의 실시간(NRT; Near Real Time)으로 저장, 검색, 분석할 수 있다.
  ELK 스택 Elasticsearch는 검색을 위해 단독으로 사용되기도 하며,
ELK(Elasticsearch / Logstatsh / Kibana) 스택(연동 솔루션)으로도 사용한다.
  Logstash : 다양한 소스(DB, csv 파일 등)의 로그 또는 트랜잭션 데이터를 수집, 집계, 파싱하여 Elasticsearch로 전달" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/elasticsearch/" />
<meta property="article:published_time" content="2020-07-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-21T00:00:00+00:00" />


  </head>
  <body>
    <header class="app-header">
      <a href="/"><img class="app-header-avatar" src="/avatar.jpg" alt="Kim Youlim" /></a>
      <h1>KONPIG BLOG</h1>
      <p>Welcome</p>
      <div class="app-header-social">
        
          <a target="_blank" href="https://github.com/kimkonpig" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg></a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Elasticsearch</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          July 21, 2020
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line>
</svg>
          <a class="tag" href="/tags/elasticsearch/">elasticsearch</a><a class="tag" href="/tags/elk/">elk</a></div></div>
    </header>
    <div class="post-content">
      <h2 id="elasticsearch란">Elasticsearch란?</h2>
<ul>
<li>
<p>Apache Lucene(아파치 루씬) 기반의 Java 오픈소스 분산 검색 엔진</p>
<ul>
<li><a href="%5Bhttps://ko.wikipedia.org/wiki/%EB%A3%A8%EC%94%AC%5D(https://ko.wikipedia.org/wiki/%EB%A3%A8%EC%94%AC)">루씬</a> : Java 기반 정보 검색 라이브러리 오픈소스 SW</li>
</ul>
</li>
<li>
<p>방대한 양의 데이터를 신속하게, 거의 실시간(NRT; Near Real Time)으로 저장, 검색, 분석할 수 있다.</p>
</li>
</ul>
<h2 id="elk-스택">ELK 스택</h2>
<p>Elasticsearch는 검색을 위해 단독으로 사용되기도 하며,</p>
<p>ELK(Elasticsearch / Logstatsh / Kibana) 스택(연동 솔루션)으로도 사용한다.</p>
<ul>
<li>
<p>Logstash : 다양한 소스(DB, csv 파일 등)의 로그 또는 트랜잭션 데이터를 수집, 집계, 파싱하여 Elasticsearch로 전달</p>
</li>
<li>
<p>Elasticsearch : Logstash로부터 전달받은 데이터를 검색 및 집계하여 필요한 관심정보 획득</p>
</li>
<li>
<p>Kibana : Elasticsearch의 빠른 검색을 통해 데이터를 시각화 및 모니터링</p>
</li>
</ul>
<p><img src="/img/20200721-01.jpg" alt="ELK"></p>
<h2 id="why-elasticsearch">Why Elasticsearch?</h2>
<ol>
<li>
<p>RDBMS는 단순 텍스트매칭에 대한 검색만을 제공</p>
</li>
<li>
<p>텍스트를 여러 단어로 변형하거나 동의어, 유의어를 활용한 검색 가능</p>
</li>
<li>
<p>RDBMS에서 불가능한 비정형 데이터의 색인과 검색 가능 -&gt; 빅데이터 처리에서 중요시하는 부분</p>
</li>
<li>
<p>형태소 분석을 통한 자연어 처리 가능(플러그인 제공)</p>
</li>
<li>
<p>역색인 지원으로 매우 빠른 검색 가능</p>
</li>
</ol>
<h2 id="rdbms-비교">RDBMS 비교</h2>
<table>
<thead>
<tr>
<th>Elasticsearch</th>
<th>RDBMS</th>
</tr>
</thead>
<tbody>
<tr>
<td>Index(데이터가 저장되는 공간, 소문자)</td>
<td>Database</td>
</tr>
<tr>
<td>Shard(인덱스 내부에 존재하는 부분)</td>
<td>Partition</td>
</tr>
<tr>
<td>Type</td>
<td>Table</td>
</tr>
<tr>
<td>Document(ES 데이터의 최소 단위, JSON Object 하나)</td>
<td>Row</td>
</tr>
<tr>
<td>Field</td>
<td>Column</td>
</tr>
<tr>
<td>Mapping</td>
<td>Schema</td>
</tr>
<tr>
<td>Query DSL</td>
<td>SQL</td>
</tr>
</tbody>
</table>
<p><a href="https://cornswrold.tistory.com/332">Query DSL 참고</a></p>
<h2 id="restful-api-사용">RESTful API 사용</h2>
<p>RDBMS와 Elasticsearch의 데이터 CRUD 방식에 차이가 있다.</p>
<p>RDBMS의 경우 클라이언트에서 관계형DB가 있는 서버에 연결을 맺어 SQL을 날리는 방식이라면,</p>
<p>Elasticsearch의 경우 RESTful API를 방식으로 데이터를 CRUD한다.</p>
<p>POST, 즉 데이터 삽입의 경우 스키마가 미리 정의되어있지 않더라도 자동으로 필드를 생성하고 저장한다.</p>
<p>큰 유연성을 제공하는 특징이지만 선호되는 방법은 아니다.</p>
<h2 id="elasticsearch-장점">Elasticsearch 장점</h2>
<ul>
<li>
<p>데이터베이스 대용으로 사용 가능</p>
</li>
<li>
<p>대량의 비정형 데이터 보관 및 검색 가능</p>
<ul>
<li>
<p>기존 DB로 처리하기 어려운 대량의 비정형 데이터 검색 가능</p>
</li>
<li>
<p>전문검색(Full-Text Search)과 구조검색 모두 지원</p>
</li>
<li>
<p>기본적으로는 검색엔진이지만 MongoDB나 Hbase처럼 대용량 스토리지로 사용 가능</p>
</li>
</ul>
</li>
<li>
<p>오픈소스 검색엔진</p>
<ul>
<li>아파치 루씬 기반 오픈소스 검색엔진으로 무료 사용 가능, 빠른 버그 해결</li>
</ul>
</li>
<li>
<p>전문검색(Full-Text Search)</p>
<ul>
<li>내용 전체를 색인하여 특정 단어가 포함된 문서 검색 가능</li>
</ul>
</li>
<li>
<p>통계 분석</p>
<ul>
<li>
<p>비정형 로그 데이터 수집, 통계 분석 가능</p>
</li>
<li>
<p>Kibana를 이용하면 시각화까지 가능</p>
</li>
</ul>
</li>
<li>
<p>Schemaless</p>
<ul>
<li>
<p>RDBMS는 스키마라는 구조에 따라 데이터를 적합한 형태로 변경하여 저장, 관리</p>
</li>
<li>
<p>Elasticsearch는 비정형의 다양한 형태의 문서도 자동으로 색인, 검색 가능</p>
</li>
</ul>
</li>
<li>
<p>RESTful API</p>
<ul>
<li>RESTful API를 사용하여 HTTP통신 기반으로 요청을 받아 JSON 형식으로 응답한다는 것은 다양한 플랫폼에서 응용 가능하다는 것을 의미함</li>
</ul>
</li>
<li>
<p>Multi-tenancy</p>
<ul>
<li>서로 다른 인덱스(RDBMS에서 DB와 같은 개념)에서도 검색할 필드명만 같으면 여러 개의 인덱스를 한 번에 조회할 수 있다.</li>
</ul>
</li>
<li>
<p>Document-Oriented</p>
<ul>
<li>
<p>여러 계층의 데이터를 JSON 형식의 구조화된 문서로 인덱스에 저장 가능</p>
</li>
<li>
<p>계층 구조로 된 문서를 한 번의 쿼리로 쉽게 조회 가능</p>
</li>
</ul>
</li>
<li>
<p>Inverted-Index</p>
<ul>
<li>역색인 지원</li>
</ul>
</li>
<li>
<p>확장성과 가용성</p>
<ul>
<li>
<p>대량의 데이터를 분산 시스템 구성으로 병렬적인 처리 가능</p>
</li>
<li>
<p>분산 환경에서는 데이터가 Shard 단위로 나누어 제공됨</p>
</li>
<li>
<p>인덱스 생성 시마다 샤드 수 조정 가능</p>
</li>
<li>
<p>데이터의 종류와 성격에 따라 데이터를 분산하여 빠른 처리 가능</p>
</li>
</ul>
</li>
</ul>
<h2 id="elasticsearch-약점">Elasticsearch 약점</h2>
<ul>
<li>
<p>실시간(Real Time) 처리 불가</p>
<ul>
<li>
<p>데이터 색인(내부적으로 커밋과 플러시 같은 과정 거침)의 특징 때문에 1초 뒤에나 검색이 가능하다.</p>
</li>
<li>
<p>따라서 실시간 처리는 아니고, NRT(Near Real Time)이 적합하다.</p>
</li>
</ul>
</li>
<li>
<p>트랜잭션, 롤백 등의 기능을 미제공</p>
</li>
<li>
<p>데이터 Update 시 실제로는 데이터를 삭제했다가 다시 생성하는 과정으로 Update 진행</p>
</li>
</ul>
<h2 id="elasticsearch-주요-api">Elasticsearch 주요 API</h2>
<ul>
<li>
<p>인덱스 관리 API (Indices API)</p>
</li>
<li>
<p>문서 관리 API (Document API)</p>
</li>
<li>
<p>검색 API (Search API)</p>
</li>
<li>
<p>집계 API(Aggregation API)</p>
</li>
</ul>
<p>모든 API는 HTTP통신을 이용하여 RESTful하게 사용 가능하다.</p>
<p><a href="https://lng1982.tistory.com/283">설치 및 실습 참고 사이트</a></p>

    </div>
    <div class="post-footer">
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "kimkonpig" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </article>

    </main>
  </body>
</html>
